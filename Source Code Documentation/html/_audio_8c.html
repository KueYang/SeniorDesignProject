<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Senior_Design_Project: Audio.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Senior_Design_Project
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_f2c0746dd6e25efb4f48a77f13d6dceb.html">Senior_Design_Project.X</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Audio.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;p32xxxx.h&gt;</code><br />
<code>#include &lt;plib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_s_t_d_d_e_f_8h_source.html">STDDEF.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_t_i_m_e_r_8h_source.html">TIMER.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_f_i_l_e_s_8h_source.html">FILES.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_d_a_c_8h_source.html">DAC.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_audio_8h_source.html">Audio.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a803702a85892e5a7a520910ac4d86e98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_s_t_d_d_e_f_8h.html#ab27e9918b538ce9d8ca692479b375b6a">UINT8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_audio_8c.html#a803702a85892e5a7a520910ac4d86e98">AUDIO_GetHeader</a> (void)</td></tr>
<tr class="memdesc:a803702a85892e5a7a520910ac4d86e98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the header of a WAV file.  <a href="#a803702a85892e5a7a520910ac4d86e98">More...</a><br /></td></tr>
<tr class="separator:a803702a85892e5a7a520910ac4d86e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad102de665ce8f43674dd62c5aa84c219"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_s_t_d_d_e_f_8h.html#a0b39d6d754cb24c708b0f2bdbe88130e">UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_audio_8c.html#ad102de665ce8f43674dd62c5aa84c219">AUDIO_GetDataSize</a> (void)</td></tr>
<tr class="memdesc:ad102de665ce8f43674dd62c5aa84c219"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the data size of the given audio file.  <a href="#ad102de665ce8f43674dd62c5aa84c219">More...</a><br /></td></tr>
<tr class="separator:ad102de665ce8f43674dd62c5aa84c219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addaba148fc779c1da90b0b3b6ff9d503"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_s_t_d_d_e_f_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_audio_8c.html#addaba148fc779c1da90b0b3b6ff9d503">AUDIO_GetAudioData</a> (void)</td></tr>
<tr class="memdesc:addaba148fc779c1da90b0b3b6ff9d503"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the data block of the audio file.  <a href="#addaba148fc779c1da90b0b3b6ff9d503">More...</a><br /></td></tr>
<tr class="separator:addaba148fc779c1da90b0b3b6ff9d503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a288e985c4e2dbea04e5e63245c45353b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_audio_8c.html#a288e985c4e2dbea04e5e63245c45353b">AUDIO_Init</a> (void)</td></tr>
<tr class="memdesc:a288e985c4e2dbea04e5e63245c45353b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Audio module.  <a href="#a288e985c4e2dbea04e5e63245c45353b">More...</a><br /></td></tr>
<tr class="separator:a288e985c4e2dbea04e5e63245c45353b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66016fcbae43dd43f25b579d6a99e840"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_audio_8c.html#a66016fcbae43dd43f25b579d6a99e840">AUDIO_Process</a> (void)</td></tr>
<tr class="memdesc:a66016fcbae43dd43f25b579d6a99e840"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process audio data.  <a href="#a66016fcbae43dd43f25b579d6a99e840">More...</a><br /></td></tr>
<tr class="separator:a66016fcbae43dd43f25b579d6a99e840"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a25c28bf236cf040e35a53eae17be023c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_i_l_e_s.html">FILES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_audio_8c.html#a25c28bf236cf040e35a53eae17be023c">files</a> [<a class="el" href="_audio_8h.html#a535563e235156a7fdb81e9a823a6dfd2">MAX_NUM_OF_FILES</a>]</td></tr>
<tr class="separator:a25c28bf236cf040e35a53eae17be023c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac05c830c7d0e7deb144a9099fa14272d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_s_t_d_d_e_f_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_audio_8c.html#ac05c830c7d0e7deb144a9099fa14272d">receiveBuffer</a> [256]</td></tr>
<tr class="separator:ac05c830c7d0e7deb144a9099fa14272d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd7e9a9ab67a071716836d7e6084193"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_audio_8c.html#aecd7e9a9ab67a071716836d7e6084193">fileIndex</a></td></tr>
<tr class="separator:aecd7e9a9ab67a071716836d7e6084193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4830a63fb4ec38ceb9738400ef6f2c81"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_audio_8c.html#a4830a63fb4ec38ceb9738400ef6f2c81">fileNames</a> [<a class="el" href="_audio_8h.html#a535563e235156a7fdb81e9a823a6dfd2">MAX_NUM_OF_FILES</a>]</td></tr>
<tr class="separator:a4830a63fb4ec38ceb9738400ef6f2c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Kue Yang </dd></dl>
<dl class="section date"><dt>Date</dt><dd>11/22/2016</dd></dl>
<p>The Audio module will handle all audio processing related tasks. Tasks includes: initializing the DAC and Microchip's MDD File System library, reading data from external memory and writing audio data to the DACs. </p><dl class="section remark"><dt>Remarks</dt><dd>The Audio module requires Microchip's MDD File System library. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="addaba148fc779c1da90b0b3b6ff9d503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addaba148fc779c1da90b0b3b6ff9d503">&sect;&nbsp;</a></span>AUDIO_GetAudioData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_t_d_d_e_f_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> AUDIO_GetAudioData </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the data block of the audio file. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns a boolean indicating if the file was read successfully. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>if the file was read successfully. </td></tr>
    <tr><td class="paramname">FALSE</td><td>if the file was read unsuccessfully. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad102de665ce8f43674dd62c5aa84c219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad102de665ce8f43674dd62c5aa84c219">&sect;&nbsp;</a></span>AUDIO_GetDataSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_t_d_d_e_f_8h.html#a0b39d6d754cb24c708b0f2bdbe88130e">UINT32</a> AUDIO_GetDataSize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the data size of the given audio file. </p>
<dl class="section return"><dt>Returns</dt><dd>The size of the data block of the audio file in BYTES. </dd></dl>

</div>
</div>
<a id="a803702a85892e5a7a520910ac4d86e98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a803702a85892e5a7a520910ac4d86e98">&sect;&nbsp;</a></span>AUDIO_GetHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_t_d_d_e_f_8h.html#ab27e9918b538ce9d8ca692479b375b6a">UINT8</a> AUDIO_GetHeader </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the header of a WAV file. </p>
<dl class="section return"><dt>Returns</dt><dd>A code indicating if reading the file is successful or not. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1,Read</td><td>the header successfully </td></tr>
    <tr><td class="paramname">2,Header</td><td>size is invalid </td></tr>
    <tr><td class="paramname">3,Chunk</td><td>ID is invalid </td></tr>
    <tr><td class="paramname">4,Header</td><td>format is invalid </td></tr>
    <tr><td class="paramname">5,Chunk</td><td>ID 1 is invalid </td></tr>
    <tr><td class="paramname">6,Chunk</td><td>ID 1 Data is invalid </td></tr>
    <tr><td class="paramname">7,Chunk</td><td>ID 2 is invalid </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a288e985c4e2dbea04e5e63245c45353b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a288e985c4e2dbea04e5e63245c45353b">&sect;&nbsp;</a></span>AUDIO_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AUDIO_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the Audio module. </p>
<p>Initializes the SD card and Microchip MDD File library. After initialization, all the audio files that are specific to the PIC are opened. The DAC is also powered on with only one of its channels on (channel A is on by default). </p><dl class="section return"><dt>Returns</dt><dd>Void </dd></dl>

</div>
</div>
<a id="a66016fcbae43dd43f25b579d6a99e840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66016fcbae43dd43f25b579d6a99e840">&sect;&nbsp;</a></span>AUDIO_Process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AUDIO_Process </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process audio data. </p>
<p>The audio data will process audio data based on data received from the IO and ADC modules. The data received by the IO module will correspond to the fret location. The data received by the ADC module will correspond to the strumming data. </p><dl class="section remark"><dt>Remarks</dt><dd>Requires the IO and ADC modules to be initialized. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Void </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aecd7e9a9ab67a071716836d7e6084193"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecd7e9a9ab67a071716836d7e6084193">&sect;&nbsp;</a></span>fileIndex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fileIndex</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The index used to specify the audio file that is being read. </p>

</div>
</div>
<a id="a4830a63fb4ec38ceb9738400ef6f2c81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4830a63fb4ec38ceb9738400ef6f2c81">&sect;&nbsp;</a></span>fileNames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fileNames</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The file names of audio files for the specified pic. </p>

</div>
</div>
<a id="a25c28bf236cf040e35a53eae17be023c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25c28bf236cf040e35a53eae17be023c">&sect;&nbsp;</a></span>files</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">files</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The list of audio files that are to be used. </p>

</div>
</div>
<a id="ac05c830c7d0e7deb144a9099fa14272d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac05c830c7d0e7deb144a9099fa14272d">&sect;&nbsp;</a></span>receiveBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">receiveBuffer</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A buffer used to store data read from the audio file. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
